<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>The Fastest Loop in JavaScript Â· Hexoder</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="The Fastest Loop in JavaScript - M ABD AZIZ ALFIAN"><meta name="keywords" content="learning-javascript, tutorial-javascript, learning-nodejs, tutorial-nodejs"><meta name="author" content="M ABD AZIZ ALFIAN"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/css/bubuzou.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://hexoder.com/atom.xml" title="Hexoder"><meta name="generator" content="Hexo 4.0.0"></head><body><header><div class="header row"><a class="logo-link" href="/"><img src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/images/logo-landscape.png"></a><ul class="nav nav-list" id="nav_list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self" data-hover="HOME">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self" data-hover="ABOUT">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self" data-hover="ARCHIVES">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/contact" target="_self" data-hover="CONTACT">CONTACT</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div class="nav-btn" id="nav_btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><post class="breadcrumb html"></post><div id="safelinker1"></div><div class="post" id="postAr"><article class="post-block"><h1 class="post-title">The Fastest Loop in JavaScript</h1><div class="post-info">2019-11-13</div><div class="post-content"><p><img src="https://i.imgur.com/awApNb5.jpeg" alt=""><br>Today I have research for the <code>loop</code> which is the very basic to make some operations in JavaScript.<br>In this research we will take a look, what is the fastest way <code>loop</code> method for handle big data array?</p><a id="more"></a><h2 id="Problem-in-Loop"><a href="#Problem-in-Loop" class="headerlink" title="Problem in Loop"></a>Problem in Loop</h2><p>We all already know that there is a big problem in loop.<br>When you are want to iterate big data array, loop is blocking, so there is possibility to make your application freeze if you are not care to choose the loop method properly.</p><h2 id="Myth-in-fastest-loop"><a href="#Myth-in-fastest-loop" class="headerlink" title="Myth in fastest loop"></a>Myth in fastest loop</h2><p>So far I have already searching through <code>google</code> and find the best answer from <code>stackoverflow</code> about fastest loop in javascript is :</p><ol><li><p>for loop cached length</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="comment">// your code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>while reverse cached length</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = array.length; <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">    <span class="comment">// your code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>A lot of my project is using this above answer for loop, and the second answer is the fastest loop method.<br>But actualy, there is still another fast loop way that I just found it yesterday. He found another fast loop method which is he described at <a href="https://medium.com/kbdev/voyage-to-the-most-efficient-loop-in-nodejs-and-a-bit-js-5961d4524c2e" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">medium here</a>.</p><p>I very courious about his benchmark and I also want to create my own benchmark about loop in javascript.</p><h2 id="The-loop-method-in-javascript"><a href="#The-loop-method-in-javascript" class="headerlink" title="The loop method in javascript"></a>The loop method in javascript</h2><p>Before we going into the main benchmark, there is many loop method available in javascript, it is:</p><ul><li><strong>for</strong><br>A <code>for</code> loop repeats until a specified condition evaluates to false. This statements is very similar with Java and C <code>for</code> loop.<br>Example<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; array.length;i++) &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><strong>for in</strong><br>The <code>for in</code> statement iterates a specified variable over all the enumerable properties of an object.<br>Example<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> array) &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><strong>do while</strong><br>The <code>do while</code> statement repeats until a specified condition evaluates to false.<br>Example<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; array.length)</span><br></pre></td></tr></table></figure></li><li><strong>while</strong><br>A <code>while</code> statement executes its statements as long as a specified condition evaluates to true.<br>Example<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; array.length) &#123;</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><strong>forEach</strong><br>The <code>forEach()</code> method executes a provided function once for each array element.<br>Example<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h2 id="Benchmark-Loop"><a href="#Benchmark-Loop" class="headerlink" title="Benchmark Loop"></a>Benchmark Loop</h2><p>Based on above <code>loop</code> statements, I will not benchmarked them all. I just choose 3 fastest loop only.</p><h3 id="Setup-boilerplate"><a href="#Setup-boilerplate" class="headerlink" title="Setup boilerplate"></a>Setup boilerplate</h3><p>This will create array for 1 million element and executed before the benchmark loop running.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x=<span class="number">0</span>;x&lt;<span class="number">1000000</span>;x++) &#123;</span><br><span class="line">  array.push(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = <span class="string">''</span>;</span><br></pre></td></tr></table></figure><h3 id="Setup-block"><a href="#Setup-block" class="headerlink" title="Setup block"></a>Setup block</h3><p>I will use <code>let</code> than <code>var</code> because using <code>let</code> for loop is more faster than using <code>var</code>. Why? because in browser if you using <code>var</code> for benchmarking without function scope, <code>var</code> will be added to <code>global object</code>.</p><ul><li><p><strong>for with cached length</strong> (this is best stackoverflow answer)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, max=array.length;i&lt;max;i++) &#123;</span><br><span class="line">  result = array[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>while reverse</strong> (most people assume this is fast for browser)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> max = array.length;</span><br><span class="line"><span class="keyword">while</span> (max--) &#123;</span><br><span class="line">  result = array[max];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>another for</strong> (this is the fastest loop)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> max = array.length;</span><br><span class="line"><span class="keyword">for</span>(; i &lt; max; i++) &#123;</span><br><span class="line">  result = array[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="Benchmark-Result"><a href="#Benchmark-Result" class="headerlink" title="Benchmark Result"></a>Benchmark Result</h3><p>Here is the benchmark result from <a href="https://jsperf.com/fastest-loop-javascript" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsperf</a>.<br><img src="https://i.imgur.com/FR6tr8r.png" alt=""></p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Based on benchmark result, I can confirm that the fastest loop is</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;<span class="keyword">const</span> max = array.length;<span class="keyword">for</span>(; i &lt; max; i++) &#123;&#125;</span><br></pre></td></tr></table></figure><p>You can read in very detail how he found this fastest loop in <a href="https://medium.com/kbdev/voyage-to-the-most-efficient-loop-in-nodejs-and-a-bit-js-5961d4524c2e" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">here</a>.</p><p>Thank You</p></div></article></div><div id="safelinker2"></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">Search</label></div><div class="search-result" id="search_result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a class="next" href="/post/install-wine-4-on-elementary-os-juno/" title="Install Wine 4 on Elementary OS Juno">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};!function(){var e=document,t=e.createElement("script");t.src="https://hexoder.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div class="copyright"><p>Â© 2019 <a href="/" target="_blank">Hexoder</a> | <a href="/disclaimer">Disclaimer</a> | <a href="/privacy-policy">Privacy</a> | <a href="/atom.xml">Feed</a> | <a href="/sitemap.xml">Sitemap</a></p></div><div class="totop"><i></i></div></div></footer><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/jquery-1.8.2.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/ar-anchor.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/main.js"></script><script src="//cdn.jsdelivr.net/npm/safelink-jquery@1.0.0/src/safelink.min.js"></script><script>var url=new URL(window.location.href),link=url.searchParams.get("safelink");if(link){var n=5;function countDown(){0<--n&&setTimeout(countDown,1e3),console.log(n),document.getElementById("safelinker1").innerHTML=0==n?"":"Loading: "+n}setTimeout(countDown,1e3),$(document).ready(function(){setTimeout(function(){$("#safelinker1").Safelink({firstButtonText:"Click Here First >>",secondButtonText:"Continue to Get Link >>"}).build("#safelinker2","btn-safelink btn-hoverable")},6e3)})}</script><script>!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-151912342-1","auto"),ga("send","pageview")</script></body></html>