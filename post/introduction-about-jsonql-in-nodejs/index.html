<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Introduction About JsonQL in NodeJS · Hexoder</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Introduction About JsonQL in NodeJS - M ABD AZIZ ALFIAN"><meta name="keywords" content="learning-javascript, tutorial-javascript, learning-nodejs, tutorial-nodejs, elementary-os, linux"><meta name="author" content="M ABD AZIZ ALFIAN"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/css/bubuzou.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://hexoder.com/atom.xml" title="Hexoder"><script src="//cdn.jsdelivr.net/npm/text-obfuscator@1.0.2/dist/text-obfuscator.min.js"></script><script>function parse_query_string(e){for(var o=e.replace("?","").split("&"),n={},r=0;r<o.length;r++){var t=o[r].split("="),i=decodeURIComponent(t[0]),a=decodeURIComponent(t[1]);if(void 0===n[i])n[i]=decodeURIComponent(a);else if("string"==typeof n[i]){var l=[n[i],decodeURIComponent(a)];n[i]=l}else n[i].push(decodeURIComponent(a))}return n}function removeParam(e,o){var n=o.split("?")[0],r=[],t=-1!==o.indexOf("?")?o.split("?")[1]:"";if(""!==t){for(var i=(r=t.split("&")).length-1;0<=i;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);0<r.length?n=n+"?"+r.join("&"):n+=r.join("&")}return n}var hash=parse_query_string(window.location.search).to;if(hash){var link=TextObfuscator.decode(hash,3),newurl=removeParam("to",window.location.href);newurl=newurl.replace(window.location.origin,""),window.history.replaceState({},document.title,newurl)}</script><script data-ad-client="ca-pub-8811888720849913" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><header><div class="header row"><a class="logo-link" href="/"><img src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/images/logo-landscape.png"></a><ul class="nav nav-list" id="nav_list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self" data-hover="HOME">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self" data-hover="ABOUT">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self" data-hover="ARCHIVES">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/contact" target="_self" data-hover="CONTACT">CONTACT</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div class="nav-btn" id="nav_btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><div id="safelinker1"></div><div class="post" id="postAr"><article class="post-block"><h1 class="post-title">Introduction About JsonQL in NodeJS</h1><div class="post-info">2019-12-04</div><div class="post-content"><p><img src="https://i.imgur.com/sohRRJI.jpg" alt=""></p><p>Hello guys, Today I would like to make some little research about JsonQL. So if you are first time hearing about JsonQL, the definitions about JsonQL is maybe “Json Query Language”. Why I said maybe? because before I write this post, I have research through google and found nothing about this kind technology. Actualy, I just found about jasperreports which is a Free Java Reporting Library. But we will not talk about making report guys. Jasperreports is not what I want to learn about JsonQL. In this article, we will talk about what is JsonQL? How to use and what is the benefit for us?</p><a id="more"></a><h2 id="NoSQL-Embedded"><a href="#NoSQL-Embedded" class="headerlink" title="NoSQL Embedded"></a>NoSQL Embedded</h2><p>It was 6 months already I made some projects will the power of Total.js Framework. And surely, I love this Total.js Framework because so simple and truly a rapid development framework and one of reasons why I choose TotalJS is because they have built in <code>NoSQL Embedded</code>. NoSQL Embedded is a database management which your data is saved as json as filebased (json file).</p><p>NoSQL Embedded is very good for small database or creating small prototype application. But actualy I was use NoSQL Embedded for 1 million rows and trustme, it still so fast. But when you are in big database, you will have high risk to get Javascript Heap Out of Memory. To avoid this, you should read carefully about my previous article at <a href="https://hexoder.com/post/how-to-avoid-javascript-heap-out-of-memory/">here</a>.</p><p>NoSQL Embedded TotalJS has many features which is almost like the other of nosql databases. It query is very strong, accurate and easy to configure in multiple conditions.</p><p>Example simple query:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set database users</span></span><br><span class="line"><span class="keyword">var</span> user = NOSQL(<span class="string">'users'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// query find users</span></span><br><span class="line">user.find().make(<span class="function"><span class="keyword">function</span>(<span class="params">builder</span>) </span>&#123;</span><br><span class="line">  builder.where(<span class="string">'age'</span>, <span class="string">'&gt;'</span>, <span class="number">20</span>);</span><br><span class="line">  builder.where(<span class="string">'confirmed'</span>, <span class="literal">true</span>);</span><br><span class="line">  builder.callback(<span class="function"><span class="keyword">function</span>(<span class="params">err, response, count</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>For more detail you can see in their <a href="https://docs.totaljs.com/latest/en.html#api~Database" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">documentation</a>.</p><h2 id="JsonQL"><a href="#JsonQL" class="headerlink" title="JsonQL"></a>JsonQL</h2><p>JsonQL is the Json Query Language. which means that you are able to query with the power of json structure.</p><p>JsonQL idea was comes up from my mind, After I using NoSQL Embedded more and more often in growing application. My code is getting big and the readability is going harder slowly. So I was thinking that, how to make query is eficient, simple and clean like in mostly RDBMS? So I created <a href="https://www.npmjs.com/package/jsonql-totaljs" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsonql-totaljs</a> library which is to help you make easier to query with NoSQL Embedded.</p><h3 id="Query-Like-SQL"><a href="#Query-Like-SQL" class="headerlink" title="Query Like SQL"></a>Query Like SQL</h3><p>If you are familiar with SQL Query, don’t worry, my <code>jsonql-totaljs</code> library is using same SQL format in JsonQL way.</p><p>JsonQL Example:</p><ul><li><p>Select</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select:&#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'age'</span>,<span class="string">'&gt;'</span>,<span class="number">10</span>]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Insert</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    insert: &#123;</span><br><span class="line">      into:<span class="string">'dt_user'</span>,</span><br><span class="line">      values:[</span><br><span class="line">        &#123;</span><br><span class="line">          id:<span class="string">'10'</span>,</span><br><span class="line">          name:<span class="string">'aziz'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Update</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    update: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'aziz'</span>]</span><br><span class="line">      ],</span><br><span class="line">      <span class="keyword">set</span>:&#123;</span><br><span class="line">        id:<span class="string">'10'</span>,</span><br><span class="line">        name:<span class="string">'aziz alfian'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Modify</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    modify: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'aziz'</span>]</span><br><span class="line">      ],</span><br><span class="line">      <span class="keyword">set</span>:&#123;</span><br><span class="line">        name:<span class="string">'M ABD AZIZ ALFIAN'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Delete</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">delete</span>: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'aziz'</span>]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li></ul><p>After you see the example above, it is similar with SQL Query, more easier and very readable right?</p><h3 id="Parallel-Execution"><a href="#Parallel-Execution" class="headerlink" title="Parallel Execution"></a>Parallel Execution</h3><p>Please look at the example above, you will see that the JsonQL is under an element of array. It is because the library of <code>jsonql-totaljs</code> has features parallel or multiple request query by single execution.</p><p>Example Multiple Query</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'wawan'</span>]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_profile'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'address'</span>,<span class="string">'=='</span>,<span class="string">'jakarta'</span>]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>The process behind of this parallel execution is on top <code>Promise.all</code> and the output is in array format.</p><h3 id="Multiple-Join-or-As-Nested"><a href="#Multiple-Join-or-As-Nested" class="headerlink" title="Multiple Join or As Nested"></a>Multiple Join or As Nested</h3><p>Join is the most common required things in building query. The fact is to create join with using NoSQL embedded way is little bit dificult and confusing. But when you are in JsonQL way, everything will going simple.</p><ul><li><p>Join<br>This is the very simple join.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'budi'</span>]</span><br><span class="line">      ],</span><br><span class="line">      join:[</span><br><span class="line">        &#123;</span><br><span class="line">          name:<span class="string">'dt_profile'</span>,</span><br><span class="line">          <span class="keyword">from</span>:<span class="string">'dt_profile'</span>,</span><br><span class="line">          on:[<span class="string">'id'</span>,<span class="string">'id'</span>],</span><br><span class="line">          first:<span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Join Nested<br>Sometime we want to create join in nested way.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'budi'</span>]</span><br><span class="line">      ],</span><br><span class="line">      join:[</span><br><span class="line">        &#123;</span><br><span class="line">          name:<span class="string">'dt_profile'</span>,</span><br><span class="line">          <span class="keyword">from</span>:<span class="string">'dt_profile'</span>,</span><br><span class="line">          on:[<span class="string">'id'</span>,<span class="string">'id'</span>],</span><br><span class="line">          first:<span class="literal">true</span>,</span><br><span class="line">          join:[</span><br><span class="line">            &#123;</span><br><span class="line">              name:<span class="string">'additional'</span>,</span><br><span class="line">              <span class="keyword">from</span>:<span class="string">'user_other'</span>,</span><br><span class="line">              on:[<span class="string">'id'</span>,<span class="string">'id'</span>],</span><br><span class="line">              first:<span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li><p>Join Nested Manually<br>Here is to create join nested manually, so we can set the sequence of the data to be nested.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'budi'</span>]</span><br><span class="line">      ],</span><br><span class="line">      join:[</span><br><span class="line">        &#123;</span><br><span class="line">          name:<span class="string">'dt_profile'</span>,</span><br><span class="line">          <span class="keyword">from</span>:<span class="string">'dt_profile'</span>,</span><br><span class="line">          on:[<span class="string">'id'</span>,<span class="string">'id'</span>],</span><br><span class="line">          first:<span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name:<span class="string">'additional'</span>,</span><br><span class="line">          <span class="keyword">from</span>:<span class="string">'user_other'</span>,</span><br><span class="line">          on:[<span class="string">'id'</span>,<span class="string">'id'</span>],</span><br><span class="line">          first:<span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      nested:[<span class="string">'dt_profile'</span>,<span class="string">'additional'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li></ul><h3 id="Multiple-Query-Format"><a href="#Multiple-Query-Format" class="headerlink" title="Multiple Query Format"></a>Multiple Query Format</h3><p>For easier to implement the JsonQL into your development code. <code>jsonql-totaljs</code> has multiple query format.<br>Which is you can use <code>array-object string</code>, <code>json string</code>, or <code>array-object</code> to build queries.</p><p>Example:</p><ul><li><p>array-object string</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = <span class="string">"[&#123;select:&#123;from:'dt_user'&#125;&#125;]"</span>;</span><br></pre></td></tr></table></figure></li><li><p>json string</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = <span class="string">"[&#123;"</span>select<span class="string">":&#123;"</span><span class="keyword">from</span><span class="string">":"</span>dt_user<span class="string">"&#125;&#125;]"</span>;</span><br></pre></td></tr></table></figure></li><li><p>array-object<br>array object is same like the others example above.</p></li></ul><h3 id="Can-be-use-outside-TotalJS-Framework"><a href="#Can-be-use-outside-TotalJS-Framework" class="headerlink" title="Can be use outside TotalJS Framework"></a>Can be use outside TotalJS Framework</h3><p>I’ve created this library is for TotalJS Framework only at the first time. But today you can use this library in another NodeJS framework. But the requirement for this is you have to use the latest version of TotalJS. You know that TotalJS framework is can be use as helper library. This is the one of TotalJS pros than other framework.</p><h3 id="Complete-Documentation"><a href="#Complete-Documentation" class="headerlink" title="Complete Documentation"></a>Complete Documentation</h3><p><code>jsonql-totaljs</code> has complete documentation which is available in their <a href="https://github.com/aalfiann/jsonql-totaljs/wiki" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Wiki</a>. I will not rewrite all things from documentation in this article, because I know, it will Too Long Didn’t Read.</p><p>So here is the basic tutorial how to use <code>jsonql-totaljs</code> :</p><ul><li><p>Install by NPM</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install jsonql-totaljs</span><br></pre></td></tr></table></figure></li><li><p>Get Started</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> JsonQL = <span class="built_in">require</span>(<span class="string">'jsonql-totaljs'</span>);</span><br><span class="line"><span class="comment">// create new object jsonql</span></span><br><span class="line"><span class="keyword">const</span> jsonql = <span class="keyword">new</span> JsonQL();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// build query</span></span><br><span class="line"><span class="keyword">var</span> query = [</span><br><span class="line">  &#123;</span><br><span class="line">    select: &#123;</span><br><span class="line">      fields:[<span class="string">'user_id'</span>,<span class="string">'name'</span>],</span><br><span class="line">      <span class="keyword">from</span>:<span class="string">'dt_user'</span>,</span><br><span class="line">      where:[</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'budi'</span>]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"> </span><br><span class="line"><span class="comment">// with callback</span></span><br><span class="line">jsonql.query(q).exec(<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);        </span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// on top promise</span></span><br><span class="line">jsonql.query(q).promise().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);        </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>JsonQL is will make you easier to create query with NoSQL embedded database. With JsonQL, you long query will still readable. No spagethi code because JsonQL is already having nice structure.</p><p>So here is the benefit of using JsonQL :</p><ul><li>Easier and readable query</li><li>Your source code is more cleaner</li><li>Simple multiple join table</li><li>Support parallel query in single execution</li><li>Support Promise, so you have no worry about callback hell</li><li>Saving your time to make builder of query function</li><li>Query support in string which means the query can be saved into database</li><li>etc</li></ul><p>Actualy there is more benefit of using JsonQL, but remember that not all application is suitable to use JsonQL. Just use JsonQL if your application is require this.</p><p>Thank You.</p></div></article></div><div id="safelinker2"></div><div id="adscustom"><div><iframe src="https://imgfo.com/featured-box-embed.html" width="300px" height="250px" frameborder="0" scrolling="no" style="max-width:300px!important"></iframe></div><div><iframe src="https://imgfo.com/featured-box-embed.html" width="300px" height="250px" frameborder="0" scrolling="no" style="max-width:300px!important"></iframe></div></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">Search</label></div><div class="search-result" id="search_result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a class="prev" href="/post/create-professional-library-in-npm-package/" title="Create Professional Library in NPM Package">PREV</a><a class="next" href="/post/how-to-avoid-javascript-heap-out-of-memory/" title="How to Avoid JavaScript Heap Out of Memory">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};!function(){var e=document,t=e.createElement("script");t.src="https://hexoder.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div class="copyright"><p>© 2019 - 2021 <a href="/" target="_blank">Hexoder</a> | <a href="/disclaimer">Disclaimer</a> | <a href="/privacy-policy">Privacy</a> | <a href="/atom.xml">Feed</a> | <a href="/sitemap.xml">Sitemap</a></p><br><a class="dmca-badge" href="//www.dmca.com/Protection/Status.aspx?ID=eb23d7cc-74cc-4a2f-8e4d-d4676a061313" title="DMCA.com Protection Status"><img src="https://images.dmca.com/Badges/dmca_protected_sml_120m.png?ID=eb23d7cc-74cc-4a2f-8e4d-d4676a061313" alt="DMCA.com Protection Status"></a><script src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js"></script></div><div class="totop"><i></i></div></div></footer><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/jquery-1.8.2.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/ar-anchor.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/main.js"></script><script src="//cdn.jsdelivr.net/npm/safelink-jquery@1.1.0/src/safelink.min.js"></script><script>$("#safelinker1").Safelink({encoded:link,timer:!0,firstButtonText:"Click Here First >>",secondButtonText:"Continue to Get Link >>"}).build("#safelinker2","btn-safelink btn-hoverable")</script><script>!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-151912342-1","auto"),ga("send","pageview")</script></body></html>