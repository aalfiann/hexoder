<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Create Your Own DataTables · Hexoder</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Create Your Own DataTables - M ABD AZIZ ALFIAN"><meta name="keywords" content="learning-javascript, tutorial-javascript, learning-nodejs, tutorial-nodejs"><meta name="author" content="M ABD AZIZ ALFIAN"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/css/bubuzou.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://hexoder.com/atom.xml" title="Hexoder"><script src="//cdn.jsdelivr.net/npm/text-obfuscator@1.0.2/dist/text-obfuscator.min.js"></script><script>function parse_query_string(e){for(var o=e.replace("?","").split("&"),n={},r=0;r<o.length;r++){var t=o[r].split("="),i=decodeURIComponent(t[0]),a=decodeURIComponent(t[1]);if(void 0===n[i])n[i]=decodeURIComponent(a);else if("string"==typeof n[i]){var l=[n[i],decodeURIComponent(a)];n[i]=l}else n[i].push(decodeURIComponent(a))}return n}function removeParam(e,o){var n=o.split("?")[0],r=[],t=-1!==o.indexOf("?")?o.split("?")[1]:"";if(""!==t){for(var i=(r=t.split("&")).length-1;0<=i;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);0<r.length?n=n+"?"+r.join("&"):n+=r.join("&")}return n}var hash=parse_query_string(window.location.search).to;if(hash){var link=TextObfuscator.decode(hash,3),newurl=removeParam("to",window.location.href);newurl=newurl.replace(window.location.origin,""),window.history.replaceState({},document.title,newurl)}</script><script data-ad-client="ca-pub-8811888720849913" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><header><div class="header row"><a class="logo-link" href="/"><img src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/images/logo-landscape.png"></a><ul class="nav nav-list" id="nav_list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self" data-hover="HOME">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self" data-hover="ABOUT">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self" data-hover="ARCHIVES">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/contact" target="_self" data-hover="CONTACT">CONTACT</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div class="nav-btn" id="nav_btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><div id="safelinker1"></div><div class="post" id="postAr"><article class="post-block"><h1 class="post-title">Create Your Own DataTables</h1><div class="post-info">2020-11-26</div><div class="post-content"><p><img src="https://i.imgur.com/4K5Dve6.jpg" alt=""></p><p>Hello guys, it was very long time I didn’t write any single article for javascript again. It is because I have very much project that should be done in this year and I was finish them.</p><p>Today I want to write an article about is we need DataTables jQuery ? If your project already sticky with jQuery, thats fine you can go with it. But if you don’t want to use jQuery you have to create it by yourself. Actualy, creating a DataTables is not really hard to do.</p><a id="more"></a><h3 id="This-is-the-reason-why-I-decided-create-my-own-DataTables"><a href="#This-is-the-reason-why-I-decided-create-my-own-DataTables" class="headerlink" title="This is the reason why I decided create my own DataTables."></a>This is the reason why I decided create my own DataTables.</h3><ol><li><p><a href="https://datatables.net" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">https://datatables.net</a><br>The size for css 2.1 kB and for js 29.7 kB + jQuery 30.8 kB (minified and gzipped). They have extension too and it wil increased the size more if you are using it. Actualy, this is very awesome project datatable that I ever found but I don’t use it because they’re sticky with jQuery also this library is too bloated, too much features will decreased my web performance.</p></li><li><p><a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">https://github.com/fiduswriter/Simple-DataTables</a><br>The size for css and js is 13kB. Yeah this is the very minimalist DataTables I found. Written in pure JavaScript (no jQuery dependencies). The feature is really close with the original DataTables.net but in my opinion this project still not flexible, I have read all the documentation and maybe I just can’t understanding it well because it’s lack of examples. This depends on how complicated your current project. Unfortunately, using this, is not solving my problem yet.</p></li><li><p>Create my own DataTables<br>Yeah, finnaly I have to decided to create my own DataTables in pure vanilla JavaScript as my project don’t use jQuery. When I created my own DataTables, I use 2 library from other source and 2 library I write it by my self.</p><ul><li><p><a href="https://github.com/cferdinandi/reef" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Reef.js (2.6 kB)</a><br>Reef is for Reactive UI</p></li><li><p><a href="https://github.com/fdaciuk/ajax" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Ajax (1 kB)</a><br>Ajax written in pure javascript.</p></li><li><p><a href="https://github.com/aalfiann/fly-json-odm" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Fly Json ODM (4.7 kB)</a><br>Json manipulation to help us searching all field or custom field also for sorting.</p></li><li><p><a href="https://github.com/aalfiann/chunk-handler" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Chunk Handler (1.9 kB)</a><br>Just helper to count total page before paginated.</p><p>So the total size is just 10.2 kB and I have this benefit :</p></li><li><p>Reactive UI (Modern way, alternative to Vue and React).</p></li><li><p>Ajax (support all method and header).</p></li><li><p>Manipulation json (Able to search all field or single field, sorting, etc).</p></li><li><p>Safe from XSS attack.</p></li><li><p>Size is small, fast performance.</p></li><li><p>Etc.</p></li></ul></li></ol><h3 id="TLDR"><a href="#TLDR" class="headerlink" title="TLDR;"></a>TLDR;</h3><p>You can learn this directly from the <a href="https://github.com/aalfiann/create-datatables" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">source</a> or <a href="https://jsfiddle.net/aalfiann/d0kpbwzt/31/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">demo</a>.</p><h3 id="Let’s-Create-This"><a href="#Let’s-Create-This" class="headerlink" title="Let’s Create This"></a>Let’s Create This</h3><p>In this case I will use Bulma Framework which is pure CSS only, no javascript included in there. I don’t use Bootsrap because they sticky with jQuery. I know Bootstrap 5 will be pure CSS, but it still alpha version, I can’t use it for my real project.</p><p>If you never use Bulma Framework, I suggest you to learn it now. It is more simpler than using Bootstrap 4.</p><ol><li><p>Create file index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Example DataTables with Bulma<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Bulma Version 0.9.0--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/bulma@0.9.0/css/bulma.min.css"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Icons below are for demo only. Feel free to use any icon pack. Docs: https://bulma.io/documentation/elements/icon/ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.materialdesignicons.com/5.8.55/css/materialdesignicons.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"hero is-info is-medium is-bold"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hero-head"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-item"</span> <span class="attr">href</span>=<span class="string">"../"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://bulma.io/images/bulma-type-white.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"navbar-burger burger"</span> <span class="attr">data-target</span>=<span class="string">"navbarMenu"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sandbox"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card has-table has-mobile-sort-spaced"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"card-header"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"card-header-title"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"mdi mdi-format-list-bulleted"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            DataTables</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-header-icon field"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"control has-icons-right"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"search"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"input"</span> <span class="attr">placeholder</span>=<span class="string">"Search &amp; Enter"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon is-small is-right"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"mdi mdi-magnify"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-content"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"datatable"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">                </span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content has-text-centered"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"https://github.com/aalfiann/create-datatables"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-github"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"control level-item"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://bulma.io"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://bulma.io/images/made-with-bulma.png"</span> <span class="attr">alt</span>=<span class="string">"Made with Bulma"</span> <span class="attr">width</span>=<span class="string">"128"</span> <span class="attr">height</span>=<span class="string">"24"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Look at the element <code>sandbox &gt; content</code>, We just create the layout only with no datatables at there. Why? Because we will render the datatables via JavaScript with Reef library. This datatables will be reactive so your code will be more clean and secured.</p></li><li><p>Add library Script</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/reefjs/dist/reef.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fdaciuk-ajax/3.0.4/ajax.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/fly-json-odm@1.10.2/dist/flyjson.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/chunk-handler@1.3.4/dist/chunkhandler.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Copy and paste this before line <code>&lt;/body&gt;</code>, I put the js script at bottom, because to prevent blocking render.</p></li><li><p>Create configuration datatables</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Default configuration table</span></span><br><span class="line"><span class="keyword">var</span> dt = [];            <span class="comment">// The data loaded from ajax will be cached at here.</span></span><br><span class="line"><span class="keyword">var</span> pageNow = <span class="number">1</span>;        <span class="comment">// Set current page to default 1</span></span><br><span class="line"><span class="keyword">var</span> itemPerPage = <span class="number">5</span>;    <span class="comment">// Set item per page to default 5</span></span><br><span class="line"><span class="keyword">var</span> totalPage = <span class="number">1</span>;      <span class="comment">// Set total page to default 1</span></span><br></pre></td></tr></table></figure><p>This configuration will help the reactive ui before data is loaded.</p></li><li><p>Create Reactive UI</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reactive UI</span></span><br><span class="line"><span class="keyword">var</span> datatable = <span class="keyword">new</span> Reef(<span class="string">'#datatable'</span>, &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        table : [],</span><br><span class="line">        message: <span class="string">''</span>,</span><br><span class="line">        pageNow: pageNow,</span><br><span class="line">        totalPage: totalPage</span><br><span class="line">    &#125;,</span><br><span class="line">    template: <span class="function"><span class="keyword">function</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(props.table.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// generate option for jump page</span></span><br><span class="line">            <span class="keyword">var</span> tpage = <span class="string">''</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=totalPage;i++) &#123;</span><br><span class="line">                <span class="comment">// if current i same as pagenow then add attribute selected</span></span><br><span class="line">                tpage += <span class="string">'&lt;option '</span>+(i === pageNow ? <span class="string">'selected'</span>:<span class="string">''</span>)+<span class="string">'&gt;'</span>+i+<span class="string">'&lt;/option&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`&lt;div class="b-table has-pagination"&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="table-wrapper has-mobile-cards"&gt;</span></span><br><span class="line"><span class="string">                &lt;table class="table is-fullwidth is-striped is-hoverable is-sortable is-fullwidth"&gt;</span></span><br><span class="line"><span class="string">                    &lt;thead&gt;</span></span><br><span class="line"><span class="string">                        &lt;tr&gt;</span></span><br><span class="line"><span class="string">                            &lt;th&gt;No&lt;/th&gt;</span></span><br><span class="line"><span class="string">                            &lt;th&gt;ID&lt;/th&gt;</span></span><br><span class="line"><span class="string">                            &lt;th&gt;UserID&lt;/th&gt;</span></span><br><span class="line"><span class="string">                            &lt;th&gt;Title&lt;/th&gt;</span></span><br><span class="line"><span class="string">                            &lt;th&gt;Body&lt;/th&gt;</span></span><br><span class="line"><span class="string">                        &lt;/tr&gt;</span></span><br><span class="line"><span class="string">                    &lt;/thead&gt;</span></span><br><span class="line"><span class="string">                    &lt;tbody&gt;</span></span><br><span class="line"><span class="string">                    <span class="subst">$&#123;props.table.map(<span class="keyword">function</span>(item, index) &#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">                        <span class="keyword">var</span> num = (index+<span class="number">1</span>);</span></span></span><br><span class="line"><span class="string"><span class="subst">                        <span class="keyword">return</span> <span class="string">`&lt;tr&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td data-label="No"&gt;<span class="subst">$&#123;num+((props.pageNow<span class="number">-1</span>)*itemPerPage)&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td data-label="ID"&gt;<span class="subst">$&#123;item.id&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td data-label="UserID"&gt;<span class="subst">$&#123;item.userId&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td data-label="Title"&gt;<span class="subst">$&#123;item.title&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td data-label="Body"&gt;<span class="subst">$&#123;item.body&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;td class="is-actions-cell"&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;div class="buttons is-right"&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;button class="button is-small is-primary" type="button" title="Edit Post"&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                                &lt;span class="icon"&gt;&lt;i class="mdi mdi-pencil-outline"&gt;&lt;/i&gt;&lt;/span&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;/button&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;button class="button is-small is-danger" type="button" title="Delete Post"&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                                &lt;span class="icon"&gt;&lt;i class="mdi mdi-trash-can"&gt;&lt;/i&gt;&lt;/span&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;/button&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                            &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;/td&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        &lt;/tr&gt;`</span>;</span></span></span><br><span class="line"><span class="string"><span class="subst">                    &#125;</span>).join('')&#125;</span></span><br><span class="line"><span class="string">                    &lt;/tbody&gt;</span></span><br><span class="line"><span class="string">                &lt;/table&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class="notification is-white"&gt;</span></span><br><span class="line"><span class="string">                &lt;div class="level"&gt;</span></span><br><span class="line"><span class="string">                    &lt;div class="level-left"&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class="level-item"&gt;</span></span><br><span class="line"><span class="string">                            Page </span></span><br><span class="line"><span class="string">                            &lt;div class="select ml-2"&gt;</span></span><br><span class="line"><span class="string">                                &lt;select id="jumpPage" onchange="jumpPage(this)"&gt;<span class="subst">$&#123;tpage&#125;</span>&lt;/select&gt;</span></span><br><span class="line"><span class="string">                            &lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class="level-item"&gt;</span></span><br><span class="line"><span class="string">                            &lt;div class="buttons has-addons"&gt;</span></span><br><span class="line"><span class="string">                                &lt;button type="button" class="button" onclick="prevPage()"&gt;&lt;i class="mdi mdi-arrow-left-bold mr-2"&gt;&lt;/i&gt;Prev&lt;/button&gt;</span></span><br><span class="line"><span class="string">                                &lt;button type="button" class="button" onclick="nextPage()"&gt;Next&lt;i class="mdi mdi-arrow-right-bold ml-2"&gt;&lt;/i&gt;&lt;/button&gt;</span></span><br><span class="line"><span class="string">                            &lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;div class="level-item"&gt;</span></span><br><span class="line"><span class="string">                        &lt;small class="mt-2"&gt;Page <span class="subst">$&#123;props.pageNow&#125;</span> of <span class="subst">$&#123;props.totalPage&#125;</span>&lt;/small&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;div class="level-right"&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class="level-item"&gt;</span></span><br><span class="line"><span class="string">                            Item per page</span></span><br><span class="line"><span class="string">                            &lt;div class="select ml-2"&gt;</span></span><br><span class="line"><span class="string">                                &lt;select id="itemperpage" onchange="setItemPerPage(this)"&gt;</span></span><br><span class="line"><span class="string">                                    &lt;option&gt;5&lt;/option&gt;</span></span><br><span class="line"><span class="string">                                    &lt;option&gt;10&lt;/option&gt;</span></span><br><span class="line"><span class="string">                                    &lt;option&gt;25&lt;/option&gt;</span></span><br><span class="line"><span class="string">                                    &lt;option&gt;50&lt;/option&gt;</span></span><br><span class="line"><span class="string">                                &lt;/select&gt;</span></span><br><span class="line"><span class="string">                            &lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;`</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`&lt;article class="message is-danger"&gt;</span></span><br><span class="line"><span class="string">                &lt;div class="message-body"&gt;</span></span><br><span class="line"><span class="string">                <span class="subst">$&#123;(props.message) ? props.message : <span class="string">'Loading data...'</span>&#125;</span></span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/article&gt;`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Render to make UI reactive</span></span><br><span class="line">datatable.render();</span><br></pre></td></tr></table></figure><p>If you didn’t know about reactive ui coding style, please learn about Reef.js / Vue.js / React.js.</p></li><li><p>Create Data Loader<br>Because we want to get data from API or other sources, we have to create function data loader first.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Get Remote Data only once then saved to dt variable</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadData</span>(<span class="params">_cb</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dt.length === <span class="number">0</span>) &#123;</span><br><span class="line">        ajax()</span><br><span class="line">        .get(<span class="string">'https://jsonplaceholder.typicode.com/posts'</span>)</span><br><span class="line">        .then(<span class="function"><span class="keyword">function</span>(<span class="params">response, xhr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(response.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dt = response;</span><br><span class="line">            <span class="keyword">if</span>(_cb &amp;&amp; <span class="keyword">typeof</span> _cb === <span class="string">"function"</span>) &#123;</span><br><span class="line">                _cb(<span class="literal">null</span>,dt);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">return</span> dt;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="keyword">function</span>(<span class="params">response, xhr</span>) </span>&#123;</span><br><span class="line">            dt = [];</span><br><span class="line">            <span class="keyword">if</span>(_cb &amp;&amp; <span class="keyword">typeof</span> _cb === <span class="string">"function"</span>) &#123;</span><br><span class="line">                _cb(xhr.responseText,<span class="literal">null</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> dt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Above function is a void callback function.</p></li><li><p>Create function search</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Search All field</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">searchData</span>(<span class="params">value,pageNow,itemPerPage</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dt.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// Find data</span></span><br><span class="line">        <span class="keyword">var</span> nosql = <span class="keyword">new</span> FlyJson();</span><br><span class="line">        <span class="comment">// I use Fly Json ODM to manipulation json on the fly.</span></span><br><span class="line">        <span class="comment">// This will query search for all fields.</span></span><br><span class="line">        <span class="keyword">var</span> result = nosql.set(dt)</span><br><span class="line">        .select([<span class="string">'userId'</span>,<span class="string">'id'</span>,<span class="string">'title'</span>,<span class="string">'body'</span>])     <span class="comment">// Edit this to swap the columns</span></span><br><span class="line">        .begin()                                    <span class="comment">// Condition begin</span></span><br><span class="line">        .where(<span class="string">'userId'</span>, <span class="string">'like'</span>, value, <span class="literal">false</span>)      <span class="comment">// Search field userId</span></span><br><span class="line">        .or()</span><br><span class="line">        .where(<span class="string">'id'</span>, <span class="string">'like'</span>, value, <span class="literal">false</span>)          <span class="comment">// Search field id</span></span><br><span class="line">        .or()</span><br><span class="line">        .where(<span class="string">'title'</span>, <span class="string">'like'</span>, value, <span class="literal">false</span>)       <span class="comment">// Search field title</span></span><br><span class="line">        .or()</span><br><span class="line">        .where(<span class="string">'body'</span>, <span class="string">'like'</span>, value, <span class="literal">false</span>)        <span class="comment">// Search field body</span></span><br><span class="line">        .end()                                      <span class="comment">// Condition end</span></span><br><span class="line">        .distinct()                                 <span class="comment">// Make sure the result is unique</span></span><br><span class="line">        .orderBy(<span class="string">'id'</span>, <span class="literal">false</span>)                       <span class="comment">// Order by field id in ascending</span></span><br><span class="line">        .exec();                                    <span class="comment">// Execute the query</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Get total page from the result of find data</span></span><br><span class="line">        <span class="keyword">var</span> ch = <span class="keyword">new</span> ChunkHandler();</span><br><span class="line">        <span class="keyword">var</span> retotalPage = ch.make(result,itemPerPage).length;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Paginate the data</span></span><br><span class="line">        <span class="keyword">var</span> redata = nosql.set(result).paginate(pageNow,itemPerPage).exec();</span><br><span class="line">        <span class="comment">// If the data records found</span></span><br><span class="line">        <span class="comment">// Inject to reactive datatable ui</span></span><br><span class="line">        <span class="keyword">if</span> (redata.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            datatable.data.table = redata;</span><br><span class="line">            datatable.data.pageNow = pageNow;</span><br><span class="line">            datatable.data.totalPage = retotalPage;</span><br><span class="line">            totalPage = retotalPage;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            datatable.data.table = [];</span><br><span class="line">            datatable.data.pageNow = <span class="number">0</span>;</span><br><span class="line">            datatable.data.totalPage = <span class="number">0</span>;</span><br><span class="line">            totalPage = <span class="number">0</span>;</span><br><span class="line">            datatable.data.message = <span class="string">'Records not found!'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        datatable.data.table = [];</span><br><span class="line">        datatable.data.pageNow = <span class="number">0</span>;</span><br><span class="line">        datatable.data.totalPage = <span class="number">0</span>;</span><br><span class="line">        totalPage = <span class="number">0</span>;</span><br><span class="line">        datatable.data.message = <span class="string">'Records not found!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create Event and Additional Function<br>Yes, we need a little bit events and additional function for search, next, prev, item and jump page.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Next Page</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pageNow &lt; totalPage) &#123;</span><br><span class="line">        pageNow = pageNow + <span class="number">1</span>;</span><br><span class="line">        searchData(<span class="built_in">document</span>.getElementById(<span class="string">'search'</span>).value,pageNow,itemPerPage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Previous Page</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prevPage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pageNow &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        pageNow = pageNow - <span class="number">1</span>;</span><br><span class="line">        searchData(<span class="built_in">document</span>.getElementById(<span class="string">'search'</span>).value,pageNow,itemPerPage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Refresh Item Per Page</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setItemPerPage</span>(<span class="params">self</span>) </span>&#123;</span><br><span class="line">    pageNow = <span class="number">1</span>;</span><br><span class="line">    itemPerPage = self.options[self.selectedIndex].value;</span><br><span class="line">    searchData(<span class="built_in">document</span>.getElementById(<span class="string">'search'</span>).value,pageNow,itemPerPage);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Go / Jump to page</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jumpPage</span>(<span class="params">self</span>) </span>&#123;</span><br><span class="line">    pageNow = <span class="built_in">parseInt</span>(self.value);</span><br><span class="line">    searchData(<span class="built_in">document</span>.getElementById(<span class="string">'search'</span>).value,pageNow,itemPerPage);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Event listener when search box is entered</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'search'</span>).addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.keyCode === <span class="number">13</span>) &#123;</span><br><span class="line">        pageNow = <span class="number">1</span>;</span><br><span class="line">        searchData(<span class="keyword">this</span>.value, pageNow, itemPerPage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>Call load data<br>After all needed function was created, in the last part is we have to call loadData .</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Load data onload</span></span><br><span class="line">loadData(<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err) searchData(<span class="string">''</span>,pageNow,itemPerPage);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Done. That’s very simple right?</p></li></ol><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>I’ve made this tutorial / example with very simple way to make you easier understanding how to create your own DataTables. I suggest you to make this more tidy like wrapping this in some class for production use.</p><p>You can learn this tutorial / example directly from the <a href="https://github.com/aalfiann/create-datatables" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">source</a> or <a href="https://jsfiddle.net/aalfiann/d0kpbwzt/31/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">demo</a>.</p><p>To create your own DataTables, actualy only using 2 libraries, it is :</p><ul><li><a href="https://github.com/aalfiann/fly-json-odm" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Fly Json ODM (4.7 kB)</a></li><li><a href="https://github.com/aalfiann/chunk-handler" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Chunk Handler (1.9 kB)</a></li></ul><p>You are able to :</p><ul><li>Remove the Reef library if you don’t want reactive UI.</li><li>Remove the Ajax library if the data is not remote to other sources or you already have your own ajax library.</li></ul><p>The reason I use Reef library for reactive ui is because very flexible, anti framework, just render the ui (no virtual dom) and it’s small only 2.5 kB (minified and gzippped). Using Vue or React is too big, bloated and strict.</p><p>If you having problem with this tutorial, just feel free to leave a comment below.</p><p>Thank you for reading my article.</p></div></article></div><div id="safelinker2"></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">Search</label></div><div class="search-result" id="search_result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a class="prev" href="/post/how-to-install-phantomjs-in-elementary-os-5/" title="How to Install PhantomJS in Elementary OS 5">PREV</a><a class="next" href="/post/create-a-serverless-api-with-fastify-framework/" title="Create a Serverless API with Fastify Framework">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};!function(){var e=document,t=e.createElement("script");t.src="https://hexoder.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div class="copyright"><p>© 2019 - 2020 <a href="/" target="_blank">Hexoder</a> | <a href="/disclaimer">Disclaimer</a> | <a href="/privacy-policy">Privacy</a> | <a href="/atom.xml">Feed</a> | <a href="/sitemap.xml">Sitemap</a></p><br><a class="dmca-badge" href="//www.dmca.com/Protection/Status.aspx?ID=eb23d7cc-74cc-4a2f-8e4d-d4676a061313" title="DMCA.com Protection Status"><img src="https://images.dmca.com/Badges/dmca_protected_sml_120m.png?ID=eb23d7cc-74cc-4a2f-8e4d-d4676a061313" alt="DMCA.com Protection Status"></a><script src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js"></script></div><div class="totop"><i></i></div></div></footer><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/jquery-1.8.2.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/ar-anchor.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/main.js"></script><script src="//cdn.jsdelivr.net/npm/safelink-jquery@1.1.0/src/safelink.min.js"></script><script>$("#safelinker1").Safelink({encoded:link,timer:!0,firstButtonText:"Click Here First >>",secondButtonText:"Continue to Get Link >>"}).build("#safelinker2","btn-safelink btn-hoverable")</script><script>!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-151912342-1","auto"),ga("send","pageview")</script></body></html>