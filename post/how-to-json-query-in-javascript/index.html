<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>How to JSON Query in JavaScript · Hexoder</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="How to JSON Query in JavaScript - M ABD AZIZ ALFIAN"><meta name="keywords" content="learning-javascript, tutorial-javascript, learning-nodejs, tutorial-nodejs"><meta name="author" content="M ABD AZIZ ALFIAN"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/css/bubuzou.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://hexoder.com/atom.xml" title="Hexoder"><meta name="generator" content="Hexo 4.0.0"></head><body><header><div class="header row"><a class="logo-link" href="/"><img src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/images/logo-landscape.png"></a><ul class="nav nav-list" id="nav_list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self" data-hover="HOME">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self" data-hover="ABOUT">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self" data-hover="ARCHIVES">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/contact" target="_self" data-hover="CONTACT">CONTACT</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div class="nav-btn" id="nav_btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><div id="safelinker1"></div><div class="post" id="postAr"><article class="post-block"><h1 class="post-title">How to JSON Query in JavaScript</h1><div class="post-info">2019-11-15</div><div class="post-content"><p><img src="https://i.imgur.com/J5AhPjY.png" alt=""><br>JSON is a format to sharing data as alternative to XML because this is very ligtweight and very readable. JSON mostly used in JavaScript Programming but infact this can be use for another programming language including <code>PHP</code>, <code>Phyton</code>, <code>Ruby</code>, <code>Java</code>, etc.</p><a id="more"></a><p>Using JSON is very simple, because JavaScript can read directly into the object. But the problem is to query the JSON is not easy when it is on big array. So in this topic we will try to how to make JSON doing query to <code>search</code>, <code>join</code>, <code>merge</code>, <code>groupBy</code>, <code>sum</code>, <code>groupDetail</code>, <code>orderBy</code>, <code>limit</code>, <code>skip</code>, <code>pagination</code>, etc.</p><h2 id="JSON-Query"><a href="#JSON-Query" class="headerlink" title="JSON Query"></a>JSON Query</h2><p>To JSON Query I will try to use as native way and using library. So what I’m gonna choose is <a href="https://www.npmjs.com/package/fly-json-odm" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">fly-json-odm</a>. Why? Because it is very fast and lightweight, the size is only <strong>4Kb</strong> when minified and gzipped. Also this library is build with the native way, so it is fair enough to compare with the native way.</p><h2 id="Example-Data"><a href="#Example-Data" class="headerlink" title="Example Data"></a>Example Data</h2><p>I will use this example data for this tutorial</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = [</span><br><span class="line">    &#123; <span class="attr">user_id</span>:<span class="number">1</span>, <span class="attr">name</span>:<span class="string">'John'</span>, <span class="attr">age</span>:<span class="number">13</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">user_id</span>:<span class="number">5</span>, <span class="attr">name</span>:<span class="string">'Wilfred'</span>, <span class="attr">age</span>:<span class="number">26</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">user_id</span>:<span class="number">3</span>, <span class="attr">name</span>:<span class="string">'Merry'</span>, <span class="attr">age</span>:<span class="number">31</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user_contact = [</span><br><span class="line">    &#123; <span class="attr">id</span>:<span class="number">1</span>, <span class="attr">address</span>:<span class="string">'California'</span>, <span class="attr">email</span>:<span class="string">'california@mail.com'</span>, <span class="attr">phone</span>:<span class="string">'44556677'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>:<span class="number">2</span>, <span class="attr">address</span>:<span class="string">'South West'</span>, <span class="attr">email</span>:<span class="string">'sout.west@mail.com'</span>, <span class="attr">phone</span>:<span class="string">'12322144'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>:<span class="number">3</span>, <span class="attr">address</span>:<span class="string">'Jakarta'</span>, <span class="attr">email</span>:<span class="string">'jakarta@mail.com'</span>, <span class="attr">phone</span>:<span class="string">'89119796'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>:<span class="number">4</span>, <span class="attr">address</span>:<span class="string">'Sidney, Australia'</span>, <span class="attr">email</span>:<span class="string">'sidney.australia@mail.com'</span>, <span class="attr">phone</span>:<span class="string">'33525478'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>:<span class="number">5</span>, <span class="attr">address</span>:<span class="string">'Tokyo'</span>, <span class="attr">email</span>:<span class="string">'tokyo@mail.com'</span>, <span class="attr">phone</span>:<span class="string">'51167889'</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> car_brand = [</span><br><span class="line">    &#123; <span class="attr">brand</span>:<span class="string">'Ford'</span>, <span class="attr">color</span>:<span class="string">'black'</span>, <span class="attr">stock</span>:<span class="number">12</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">brand</span>:<span class="string">'Ford'</span>, <span class="attr">color</span>:<span class="string">'white'</span>, <span class="attr">stock</span>:<span class="number">26</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">brand</span>:<span class="string">'Ferarri'</span>, <span class="attr">color</span>:<span class="string">'red'</span>, <span class="attr">stock</span>:<span class="number">8</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">brand</span>:<span class="string">'Porsche'</span>, <span class="attr">color</span>:<span class="string">'white'</span>, <span class="attr">stock</span>:<span class="number">9</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">brand</span>:<span class="string">'Peugot'</span>, <span class="attr">color</span>:<span class="string">'white'</span>, <span class="attr">stock</span>:<span class="number">13</span> &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h2 id="Using-Fly-Json-ODM"><a href="#Using-Fly-Json-ODM" class="headerlink" title="Using Fly Json ODM"></a>Using Fly Json ODM</h2><p>Because I choose to use <a href="https://www.npmjs.com/package/fly-json-odm" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">fly-json-odm</a> library to compare with native way, this is how to use fly-json-odm:</p><ul><li><p>You can install from NPM for NodeJS</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install fly-json-odm</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FlyJson = <span class="built_in">require</span>(<span class="string">'fly-json-odm'</span>);</span><br><span class="line"><span class="keyword">var</span> odm = <span class="keyword">new</span> FlyJson();</span><br><span class="line"><span class="comment">// below here is for your query</span></span><br></pre></td></tr></table></figure></li><li><p>You can use CDN for browser</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/fly-json-odm@1.8.4/dist/flyjson.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> odm = <span class="keyword">new</span> FlyJson();</span><br><span class="line">  <span class="comment">// below here is for your query</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>For more detail is on their <a href="https://github.com/aalfiann/fly-json-odm/wiki" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">documentation</a>.</p></li></ul><h3 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h3><p>Simple searching by key value in json array.</p><ul><li><p>Native way<br>To perform search in JSON you will need <code>filter</code> and <code>indexOf</code> function like this below.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params">obj1,name,searchTerm</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj1.filter(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key[name].indexOf(searchTerm) &gt; <span class="number">-1</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = search(user,<span class="string">'name'</span>,<span class="string">'Wil'</span>); </span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).where(<span class="string">'name'</span>,<span class="string">'=='</span>,<span class="string">'Wil'</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><p>With fly-json-odm you are able to search by using comparison operator.<br>Example: <code>==</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>LIKE</code>, <code>NOT LIKE</code>, etc.</p></li><li><p>Expected result<br>You can see the at <a href="https://jsfiddle.net/aalfiann/Lqw8usr7/14/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="attr">"user_id"</span>:<span class="number">5</span>,<span class="attr">"name"</span>:<span class="string">"Wilfred"</span>,<span class="attr">"age"</span>:<span class="number">26</span>&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Join-On"><a href="#Join-On" class="headerlink" title="Join On"></a>Join On</h3><p>Join on means joining two json array by key and result as nested.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">join</span>(<span class="params">obj1,obj2,alias,name1,name2</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// we create index for obj2, to be use later in loop</span></span><br><span class="line">  <span class="keyword">const</span> indexB = obj2.reduce(<span class="function">(<span class="params">result,item</span>) =&gt;</span> &#123; </span><br><span class="line">    result[item[name2]] = item;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// create result in array first</span></span><br><span class="line">  <span class="keyword">var</span> result = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// mapping the obj1</span></span><br><span class="line">  obj1.map(<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// create newdata</span></span><br><span class="line">    <span class="keyword">var</span> newdata = &#123;&#125;;</span><br><span class="line">    <span class="comment">// get the obj1 key to array</span></span><br><span class="line">    <span class="keyword">var</span> arr = <span class="built_in">Object</span>.keys(obj1[index]);</span><br><span class="line">    <span class="comment">// count the array</span></span><br><span class="line">    <span class="keyword">var</span> l = arr.length;</span><br><span class="line">    <span class="comment">// loop the obj1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;l;i++) &#123;</span><br><span class="line">      <span class="comment">// using alias will add new object nested for obj2</span></span><br><span class="line">      <span class="keyword">if</span>(arr[i] === name1) &#123;</span><br><span class="line">        <span class="keyword">if</span>(alias === arr[i]) &#123;</span><br><span class="line">          newdata[arr[i]] = indexB[obj1[index][arr[i]]];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          newdata[alias] = indexB[obj1[index][arr[i]]];</span><br><span class="line">          newdata[arr[i]] = value[arr[i]];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newdata[arr[i]] = value[arr[i]];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// push new object into result</span></span><br><span class="line">    result.push(newdata);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = join(user,user_contact,<span class="string">'user_id'</span>,<span class="string">'user_id'</span>,<span class="string">'id'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><p>Join two json array as nested actualy is very complicated in native way.</p></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).join(<span class="string">'user_id'</span>,user_contact).on(<span class="string">'user_id'</span>,<span class="string">'id'</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><p>With fly-json-odm is very simple and your code will be more cleaner.</p></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/fa7eumrd/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">	<span class="attr">"user_id"</span>: &#123;</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"address"</span>: <span class="string">"California"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"california@mail.com"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"44556677"</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"John"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">13</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: &#123;</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">5</span>,</span><br><span class="line">  <span class="attr">"address"</span>: <span class="string">"Tokyo"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"tokyo@mail.com"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"51167889"</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Wilfred"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">26</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: &#123;</span><br><span class="line">   <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">"address"</span>: <span class="string">"Jakarta"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"jakarta@mail.com"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"89119796"</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Merry"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">31</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Join-Merge"><a href="#Join-Merge" class="headerlink" title="Join Merge"></a>Join Merge</h3><p>Join Merge means joining two json array without nested.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">joinMerge</span>(<span class="params">obj1,obj2,name1,name2</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// we create index for obj2, to be use later in map</span></span><br><span class="line">  <span class="keyword">const</span> indexB = obj2.reduce(<span class="function">(<span class="params">result,item</span>) =&gt;</span> &#123; </span><br><span class="line">    result[item[name2]] = item; </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">  <span class="keyword">return</span> obj1.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Object</span>.assign(item,indexB[item[name1]]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = joinMerge(user,user_contact,<span class="string">'user_id'</span>,<span class="string">'id'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).join(<span class="string">'user_id'</span>,user_contact).merge(<span class="string">'user_id'</span>,<span class="string">'id'</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/wkLazqvt/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">	<span class="attr">"user_id"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"John"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">13</span>,</span><br><span class="line"> <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"address"</span>: <span class="string">"California"</span>,</span><br><span class="line"> <span class="attr">"email"</span>: <span class="string">"california@mail.com"</span>,</span><br><span class="line"> <span class="attr">"phone"</span>: <span class="string">"44556677"</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">5</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Wilfred"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">26</span>,</span><br><span class="line"> <span class="attr">"id"</span>: <span class="number">5</span>,</span><br><span class="line"> <span class="attr">"address"</span>: <span class="string">"Tokyo"</span>,</span><br><span class="line"> <span class="attr">"email"</span>: <span class="string">"tokyo@mail.com"</span>,</span><br><span class="line"> <span class="attr">"phone"</span>: <span class="string">"51167889"</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">3</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Merry"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">31</span>,</span><br><span class="line"> <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line"> <span class="attr">"address"</span>: <span class="string">"Jakarta"</span>,</span><br><span class="line"> <span class="attr">"email"</span>: <span class="string">"jakarta@mail.com"</span>,</span><br><span class="line"> <span class="attr">"phone"</span>: <span class="string">"89119796"</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Group-By-Sum"><a href="#Group-By-Sum" class="headerlink" title="Group By + Sum"></a>Group By + Sum</h3><p>This is just grouping by name property of json array. Support with SUM but this is optional.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupBy</span>(<span class="params">obj1, name, sumField=[]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> l = sumField.length;</span><br><span class="line">  <span class="keyword">var</span> data = obj1.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">res, obj</span>) </span>&#123;</span><br><span class="line">    obj.item_count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (!(obj[name] <span class="keyword">in</span> res)) &#123;</span><br><span class="line">      res.__array.push(res[obj[name]] = obj);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;l;i++) &#123;</span><br><span class="line">        res[obj[name]][sumField[i]] += obj[sumField[i]];</span><br><span class="line">      &#125;</span><br><span class="line">      res[obj[name]][<span class="string">'item_count'</span>] += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// average</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;l;i++) &#123;</span><br><span class="line">      res[obj[name]][<span class="string">'average_'</span>+sumField[i]] = (res[obj[name]][sumField[i]]/res[obj[name]][<span class="string">'item_count'</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;, &#123;<span class="attr">__array</span>:[]&#125;);</span><br><span class="line">  <span class="keyword">return</span> data.__array;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = groupBy(car_brand, <span class="string">'brand'</span>, [<span class="string">'stock'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(car_brand).groupBy(<span class="string">'brand'</span>,[<span class="string">'stock'</span>]).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/av7zdycn/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"> <span class="attr">"brand"</span>: <span class="string">"Ford"</span>,</span><br><span class="line"> <span class="attr">"color"</span>: <span class="string">"black"</span>,</span><br><span class="line"> <span class="attr">"stock"</span>: <span class="number">38</span>,</span><br><span class="line"> <span class="attr">"item_count"</span>: <span class="number">2</span>,</span><br><span class="line"> <span class="attr">"average_stock"</span>: <span class="number">19</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"brand"</span>: <span class="string">"Ferarri"</span>,</span><br><span class="line"> <span class="attr">"color"</span>: <span class="string">"red"</span>,</span><br><span class="line"> <span class="attr">"stock"</span>: <span class="number">8</span>,</span><br><span class="line"> <span class="attr">"item_count"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"average_stock"</span>: <span class="number">8</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"brand"</span>: <span class="string">"Porsche"</span>,</span><br><span class="line"> <span class="attr">"color"</span>: <span class="string">"white"</span>,</span><br><span class="line"> <span class="attr">"stock"</span>: <span class="number">9</span>,</span><br><span class="line"> <span class="attr">"item_count"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"average_stock"</span>: <span class="number">9</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"brand"</span>: <span class="string">"Peugot"</span>,</span><br><span class="line"> <span class="attr">"color"</span>: <span class="string">"white"</span>,</span><br><span class="line"> <span class="attr">"stock"</span>: <span class="number">13</span>,</span><br><span class="line"> <span class="attr">"item_count"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"average_stock"</span>: <span class="number">13</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Grouping-Detail"><a href="#Grouping-Detail" class="headerlink" title="Grouping Detail"></a>Grouping Detail</h3><p>This will grouping the json array and the detail will display as nested.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupDetail</span>(<span class="params">obj1, name, groupName=<span class="string">''</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = obj1.reduce(<span class="function">(<span class="params">objectsByKeyValue, obj</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> value = obj[name];</span><br><span class="line">    objectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);</span><br><span class="line">    <span class="keyword">return</span> objectsByKeyValue;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">  <span class="keyword">var</span> group = [];</span><br><span class="line">  <span class="keyword">if</span>(groupName) &#123;</span><br><span class="line">    group.push(&#123;[groupName]:data&#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    group.push(&#123;[name]:data&#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> group;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = groupDetail(car_brand, <span class="string">'brand'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(car_brand).groupDetail(<span class="string">'brand'</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/qtp4fh8c/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"> <span class="attr">"brand"</span>: &#123;</span><br><span class="line">  <span class="attr">"Ford"</span>: [&#123;</span><br><span class="line">	  <span class="attr">"brand"</span>: <span class="string">"Ford"</span>,</span><br><span class="line">	  <span class="attr">"color"</span>: <span class="string">"black"</span>,</span><br><span class="line">	  <span class="attr">"stock"</span>: <span class="number">12</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">	  <span class="attr">"brand"</span>: <span class="string">"Ford"</span>,</span><br><span class="line">	  <span class="attr">"color"</span>: <span class="string">"white"</span>,</span><br><span class="line">	  <span class="attr">"stock"</span>: <span class="number">26</span></span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"Ferarri"</span>: [&#123;</span><br><span class="line">	  <span class="attr">"brand"</span>: <span class="string">"Ferarri"</span>,</span><br><span class="line">	  <span class="attr">"color"</span>: <span class="string">"red"</span>,</span><br><span class="line">	  <span class="attr">"stock"</span>: <span class="number">8</span></span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"Porsche"</span>: [&#123;</span><br><span class="line">	  <span class="attr">"brand"</span>: <span class="string">"Porsche"</span>,</span><br><span class="line">	  <span class="attr">"color"</span>: <span class="string">"white"</span>,</span><br><span class="line">	  <span class="attr">"stock"</span>: <span class="number">9</span></span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"Peugot"</span>: [&#123;</span><br><span class="line">	  <span class="attr">"brand"</span>: <span class="string">"Peugot"</span>,</span><br><span class="line">	  <span class="attr">"color"</span>: <span class="string">"white"</span>,</span><br><span class="line">	  <span class="attr">"stock"</span>: <span class="number">13</span></span><br><span class="line">  &#125;]</span><br><span class="line"> &#125;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Order-By"><a href="#Order-By" class="headerlink" title="Order By"></a>Order By</h3><p>To sort the json array in ASC or DESC.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_sortBy</span>(<span class="params">field, reverse, primer</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> key = primer ? </span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> primer(x[field])&#125; : </span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;<span class="keyword">return</span> x[field]&#125;;</span><br><span class="line">  reverse = !reverse ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a = key(a), b = key(b), reverse * ((a &gt; b) - (b &gt; a));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">orderBy</span>(<span class="params">obj1,name,desc=true,primer</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj1.sort(_sortBy(name,desc,primer));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = orderBy(user,<span class="string">'user_id'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).orderBy(<span class="string">'user_id'</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/xt4qpeba/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">5</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Wilfred"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">26</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">3</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Merry"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">31</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">1</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"John"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">13</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Limit"><a href="#Limit" class="headerlink" title="Limit"></a>Limit</h3><p>Limit the json array output to display.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">limit</span>(<span class="params">obj1, size</span>) </span>&#123;</span><br><span class="line">  obj1.length = size;</span><br><span class="line">  <span class="keyword">return</span> obj1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = limit(user,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).take(<span class="number">2</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/fqxbzoka/3/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;<span class="attr">"user_id"</span>:<span class="number">1</span>,<span class="attr">"name"</span>:<span class="string">"John"</span>,<span class="attr">"age"</span>:<span class="number">13</span>&#125;,&#123;<span class="attr">"user_id"</span>:<span class="number">5</span>,<span class="attr">"name"</span>:<span class="string">"Wilfred"</span>,<span class="attr">"age"</span>:<span class="number">26</span>&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h3><p>Skip some element of json array output.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">skip</span>(<span class="params">obj1, size</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj1.slice(size);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = skip(user,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user).skip(<span class="number">1</span>).exec();</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/sho541ke/1/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">5</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Wilfred"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">26</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line"> <span class="attr">"user_id"</span>: <span class="number">3</span>,</span><br><span class="line"> <span class="attr">"name"</span>: <span class="string">"Merry"</span>,</span><br><span class="line"> <span class="attr">"age"</span>: <span class="number">31</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></li></ul><h3 id="Pagination"><a href="#Pagination" class="headerlink" title="Pagination"></a>Pagination</h3><p>When data is big, we should don’t display them all, so we must create a pagination.<br>Actualy you can just doing this by combining <code>limit</code> and <code>skip</code>, but this is the alternative method.</p><ul><li><p>Native way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paginate</span>(<span class="params">obj1, page, page_size</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> count = obj1.length;</span><br><span class="line">  --page; <span class="comment">// because pages logically start with 1, but technically with 0</span></span><br><span class="line">  obj1 = obj1.slice(page * page_size, (page + <span class="number">1</span>) * page_size);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    result:obj1,</span><br><span class="line">    metadata: &#123;</span><br><span class="line">      page:(page+<span class="number">1</span>),</span><br><span class="line">      page_size:page_size,</span><br><span class="line">      total_page:<span class="built_in">Math</span>.ceil(count / page_size),</span><br><span class="line">      total_records:count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = paginate(user_contact,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Fly Json ODM way</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = odm.set(user_contact).paginate(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure></li><li><p>Expected result<br>You can see at <a href="https://jsfiddle.net/aalfiann/k13rj4xg/3/" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">jsfiddle</a>.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="attr">"result"</span>: [&#123;</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"address"</span>: <span class="string">"California"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"california@mail.com"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"44556677"</span></span><br><span class="line"> &#125;, &#123;</span><br><span class="line">  <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">"address"</span>: <span class="string">"South West"</span>,</span><br><span class="line">  <span class="attr">"email"</span>: <span class="string">"sout.west@mail.com"</span>,</span><br><span class="line">  <span class="attr">"phone"</span>: <span class="string">"12322144"</span></span><br><span class="line"> &#125;],</span><br><span class="line"> <span class="attr">"metadata"</span>: &#123;</span><br><span class="line">  <span class="attr">"page"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">"page_size"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">"total_page"</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">"total_records"</span>: <span class="number">5</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Native way is very fast and no one libraries can beat the native way. But for complex json query, your code will hard to read and you will lose many hours of your time just only to create the function for spesific condition.</p><p>With using <a href="https://www.npmjs.com/package/fly-json-odm" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">fly-json-odm</a>, to do json query is more easier because:</p><ul><li>Similar as SQL Query.</li><li>Function is chainable.</li><li>Asynchronous support.</li><li>Work in memory so your original data is safe.</li></ul><p>There is <code>lodash</code>, <code>underscore</code> and <code>ramda</code> which is also help you to json query. But I don’t use it because for me it is too bloated and slow in performance to use in browser. If you looking for tutorial json query with this library, you can easily find through google because too many article write this out there.</p><p>Thank you</p></div></article></div><div id="safelinker2"></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">Search</label></div><div class="search-result" id="search_result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a class="next" href="/post/the-fastest-loop-in-javascript/" title="The Fastest Loop in JavaScript">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};!function(){var e=document,t=e.createElement("script");t.src="https://hexoder.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div class="copyright"><p>© 2019 <a href="/" target="_blank">Hexoder</a> | <a href="/disclaimer">Disclaimer</a> | <a href="/privacy-policy">Privacy</a> | <a href="/atom.xml">Feed</a> | <a href="/sitemap.xml">Sitemap</a></p></div><div class="totop"><i></i></div></div></footer><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/jquery-1.8.2.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/ar-anchor.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/main.js"></script><script src="//cdn.jsdelivr.net/npm/safelink-jquery@1.0.0/src/safelink.min.js"></script><script>var url=new URL(window.location.href),link=url.searchParams.get("safelink");if(link){var n=5;function countDown(){0<--n&&setTimeout(countDown,1e3),console.log(n),document.getElementById("safelinker1").innerHTML=0==n?"":"Loading: "+n}setTimeout(countDown,1e3),$(document).ready(function(){setTimeout(function(){$("#safelinker1").Safelink({firstButtonText:"Click Here First >>",secondButtonText:"Continue to Get Link >>"}).build("#safelinker2","btn-safelink btn-hoverable")},6e3)})}</script><script>!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-151912342-1","auto"),ga("send","pageview")</script></body></html>