<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Create Professional Library in NPM Package Â· Hexoder</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Create Professional Library in NPM Package - M ABD AZIZ ALFIAN"><meta name="keywords" content="learning-javascript, tutorial-javascript, learning-nodejs, tutorial-nodejs"><meta name="author" content="M ABD AZIZ ALFIAN"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/css/bubuzou.min.css"><link rel="search" type="application/opensearchdescription+xml" href="https://hexoder.com/atom.xml" title="Hexoder"><script src="//cdn.jsdelivr.net/npm/text-obfuscator@1.0.2/dist/text-obfuscator.min.js"></script><script>function parse_query_string(e){for(var o=e.replace("?","").split("&"),n={},r=0;r<o.length;r++){var t=o[r].split("="),i=decodeURIComponent(t[0]),a=decodeURIComponent(t[1]);if(void 0===n[i])n[i]=decodeURIComponent(a);else if("string"==typeof n[i]){var l=[n[i],decodeURIComponent(a)];n[i]=l}else n[i].push(decodeURIComponent(a))}return n}function removeParam(e,o){var n=o.split("?")[0],r=[],t=-1!==o.indexOf("?")?o.split("?")[1]:"";if(""!==t){for(var i=(r=t.split("&")).length-1;0<=i;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);0<r.length?n=n+"?"+r.join("&"):n+=r.join("&")}return n}var hash=parse_query_string(window.location.search).to;if(hash){var link=TextObfuscator.decode(hash,3),newurl=removeParam("to",window.location.href);newurl=newurl.replace(window.location.origin,""),window.history.replaceState({},document.title,newurl)}</script></head><body><header><div class="header row"><a class="logo-link" href="/"><img src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/images/logo-landscape.png"></a><ul class="nav nav-list" id="nav_list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self" data-hover="HOME">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self" data-hover="ABOUT">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self" data-hover="ARCHIVES">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/contact" target="_self" data-hover="CONTACT">CONTACT</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div class="nav-btn" id="nav_btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><div id="safelinker1"></div><div class="post" id="postAr"><article class="post-block"><h1 class="post-title">Create Professional Library in NPM Package</h1><div class="post-info">2019-12-06</div><div class="post-content"><p><img src="https://i.imgur.com/NuT2Nzw.jpg" alt=""></p><p>Hello guys, Today I will write a tutorial how to create a professional library and make your library published in NPM Package. I know there is a lot similar tutorial like this, but I will make this tutorial more systematic and more explanation to help you understand more easier.</p><a id="more"></a><h2 id="Study-Case"><a href="#Study-Case" class="headerlink" title="Study Case"></a>Study Case</h2><p>In this tutorial, Assume that you are will be create a library name <code>text-obfuscator</code>. <code>text-obfuscator</code> is just a simple library to obfuscate the text.</p><h2 id="Pre-Software-Requirement"><a href="#Pre-Software-Requirement" class="headerlink" title="Pre Software Requirement"></a>Pre Software Requirement</h2><ol><li>Visual Studio Code</li><li>Git</li></ol><h3 id="Install-Visual-Studio-Code"><a href="#Install-Visual-Studio-Code" class="headerlink" title="Install Visual Studio Code"></a>Install Visual Studio Code</h3><p>We will going to use Visual Studio Code, but actualy you are able to use any IDE to code. I use Visual Studio Code because this is the top popular editor in the world. Visual Studio Code is Free, you can download it from <a href="https://code.visualstudio.com/Download" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">here</a> and follow the step to install it.</p><h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><p>Git is the version control software to help you manage your repository of your project in Github. Git is an open source project so you are free to download it from <a href="https://git-scm.com/downloads" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">here</a> and follow the step from it website to install it.</p><h2 id="Pre-Account-Requirement"><a href="#Pre-Account-Requirement" class="headerlink" title="Pre Account Requirement"></a>Pre Account Requirement</h2><p>Before we start to create a library. You have to register on 4 resources, it is:</p><ol><li><a href="https://github.com" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Github</a></li><li><a href="https://travis-ci.com" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Travis</a></li><li><a href="https://coveralls.io" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Coveralls</a></li><li><a href="https://npmjs.org" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">NPMJS</a></li></ol><h3 id="Create-an-account-to-Github"><a href="#Create-an-account-to-Github" class="headerlink" title="Create an account to Github"></a>Create an account to Github</h3><p>Visit to <a href="https://github.com" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Github</a> and register your account in there. After you are finished to register, then you have to create your first repository. For example if your username is <code>aalfiann</code>, then if your repository name is <code>text-obfuscator</code> so your full link to your repository is <code>https://github.com/aalfiann/text-obfuscator</code>.</p><h3 id="Clone-your-Repository"><a href="#Clone-your-Repository" class="headerlink" title="Clone your Repository"></a>Clone your Repository</h3><p>To clone your repository, you just go visit to <code>https://github.com/aalfiann/text-obfuscator</code> then on the top-right there is green button name <code>Clone or Download</code>, just click on it then copy the url from textbox, so your git link is <code>https://github.com/aalfiann/text-obfuscator.git</code>.</p><p>After you have the git link, now open your Visual Studio Code, then press <code>CTRL+SHIFT+P</code>, paste the git link, wait for a second then you will get popup message to Open this Repository, just click it. Now you will open the project which is has been already connected with your repository on Github.</p><p>Now just minimize your Visual Studio Code and go for the next step below.</p><h3 id="Create-an-account-to-Travis"><a href="#Create-an-account-to-Travis" class="headerlink" title="Create an account to Travis"></a>Create an account to Travis</h3><p>Visit to <a href="https://travis-ci.com" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Travis</a> then make a registration first in there. After register is done, now go to <a href="https://travis-ci.com/account/repositories" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Settings</a>. Then on top-left you will see the green button name <code>Sync Account</code>, just click it. Wait for a second, after sync progress is done, now you will see your repository name is appearing on the right box. Okay, that is enough for now, we will continue this later to trigger the build test after the source code is uploaded on github.</p><h3 id="Create-an-account-to-Coveralls"><a href="#Create-an-account-to-Coveralls" class="headerlink" title="Create an account to Coveralls"></a>Create an account to Coveralls</h3><p>Visit to <a href="https://coveralls.io" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Coveralls</a> then make a registration first in there. After register is done, now go to <a href="https://coveralls.io/repos/new" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Add New Repo</a>. Then on top-right you will see button name <code>Sync Repo</code>, just click on it. Wait for a second, then your repository name will be appear in there. You will see gray button <code>OFF</code>, then click it to make coveralls listen to your repository in realtime to detect whats changes from your repository in Github.</p><h3 id="Create-an-account-to-NPMJS"><a href="#Create-an-account-to-NPMJS" class="headerlink" title="Create an account to NPMJS"></a>Create an account to NPMJS</h3><p>Visit to <a href="https://npmjs.org" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">NPMJS</a> to create your account. You have to register to NPM website because this is required to publish your package library in NPM. After you are successfully register, just leave it, you can logout because later we will login to NPM through command from Terminal.</p><h2 id="Making-a-library"><a href="#Making-a-library" class="headerlink" title="Making a library"></a>Making a library</h2><p>After you follow all the steps above, now we go back to open your minimized Visual Studio Code. You will see that your project is still empty. So follow the next step below to making your first library.</p><h3 id="NPM-Init"><a href="#NPM-Init" class="headerlink" title="NPM Init"></a>NPM Init</h3><p>The first thing to do is you have to open the terminal from Visual Studio Code, then run command below</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br></pre></td></tr></table></figure><p>Then follow all the steps, for the test part just enter it, so you have no script test as for now. We will configure it later in the next step.</p><h3 id="Configure-Unit-Test"><a href="#Configure-Unit-Test" class="headerlink" title="Configure Unit Test"></a>Configure Unit Test</h3><p>I have write the full article about create unit test at <a href="https://hexoder.com/post/setup-unit-test-with-mocha-nyc-travis-coveralls/">here</a>. Just follow all steps from it. Once it done, you can go for next step below.</p><h3 id="Create-structure-library"><a href="#Create-structure-library" class="headerlink" title="Create structure library"></a>Create structure library</h3><p>Structure can be anything, but for a standard which is many people use is like this:</p><ul><li>src/</li><li>test/</li><li>.gitignore</li><li>.travis.yml</li><li>LICENSE</li><li>package-lock.json</li><li>package.json</li><li>README.md</li></ul><p>Note:</p><ul><li><code>src/</code> directory is your source code library.</li><li><code>test/</code> directory is your unit test file.</li></ul><h3 id="Create-the-source-code"><a href="#Create-the-source-code" class="headerlink" title="Create the source code"></a>Create the source code</h3><p>Now create new file name <code>text-obfuscator.js</code> inside <code>src/</code> directory.<br>Just paste this code and saved it.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment"> * TextObfuscator v1.0.2 ES6 [NodeJS or Browser]</span></span><br><span class="line"><span class="comment"> * https://github.com/aalfiann/text-obfuscator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Copyright 2019 M ABD AZIZ ALFIAN</span></span><br><span class="line"><span class="comment"> * Released under the MIT license</span></span><br><span class="line"><span class="comment"> * https://github.com/aalfiann/text-obfuscator/blob/master/LICENSE</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> TextObfuscator = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Determine value is string</span></span><br><span class="line"><span class="comment">     * @param &#123;string&#125; value</span></span><br><span class="line"><span class="comment">     * @return &#123;bool&#125; </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    _isString: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">'string'</span> || value <span class="keyword">instanceof</span> <span class="built_in">String</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Make chunk array (start from first char)</span></span><br><span class="line"><span class="comment">     * @param &#123;string&#125; value            this is the text value </span></span><br><span class="line"><span class="comment">     * @param &#123;string|integer&#125; size     this is the size of chunked text value</span></span><br><span class="line"><span class="comment">     * @return &#123;array&#125; </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    _make: <span class="function"><span class="keyword">function</span>(<span class="params">value,size=<span class="number">1</span></span>) </span>&#123;</span><br><span class="line">        size = <span class="built_in">parseInt</span>(size);</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">0</span>, o = <span class="number">0</span>, numChunks = <span class="built_in">Math</span>.ceil(value.length / size), chunks = <span class="keyword">new</span> <span class="built_in">Array</span>(numChunks);</span><br><span class="line">        <span class="keyword">for</span>(i, o; i &lt; numChunks; ++i, o += size) &#123;</span><br><span class="line">            chunks[i] = value.substr(o, size);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chunks;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Make chunk array reverse (start from last char)</span></span><br><span class="line"><span class="comment">     * @param &#123;string&#125; value            this is the text value </span></span><br><span class="line"><span class="comment">     * @param &#123;string|integer&#125; size     this is the size of chunked text value</span></span><br><span class="line"><span class="comment">     * @return &#123;array&#125; </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    _remake: <span class="function"><span class="keyword">function</span>(<span class="params">value,size=<span class="number">1</span></span>) </span>&#123;</span><br><span class="line">        size = <span class="built_in">parseInt</span>(size);</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">0</span>, len = value.length, data = <span class="keyword">this</span>._make(value,size), datalen = data.length, chunks = <span class="keyword">new</span> <span class="built_in">Array</span>(datalen), last = data[datalen<span class="number">-1</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (;i&lt;datalen;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(len&gt;=size) &#123;</span><br><span class="line">                chunks[i] = value.substr((len-size),size);</span><br><span class="line">                len -= size;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                chunks[i] = value.substr(<span class="number">0</span>,last);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chunks;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Encode or Obfuscate the text </span></span><br><span class="line"><span class="comment">     * @param &#123;string&#125; value            this is the text value to be encoded</span></span><br><span class="line"><span class="comment">     * @param &#123;string|integer&#125; size     this is the size of text to obfuscate</span></span><br><span class="line"><span class="comment">     * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    encode: <span class="function"><span class="keyword">function</span>(<span class="params">value,size=<span class="number">1</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="string">''</span>;</span><br><span class="line">        size = <span class="built_in">parseInt</span>(size);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>._isString(value)) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Value must be string'</span>);</span><br><span class="line">        <span class="keyword">var</span> data = <span class="keyword">this</span>._make(value,size), len = data.length;</span><br><span class="line">        <span class="keyword">while</span>(len) &#123;</span><br><span class="line">            --len;</span><br><span class="line">            result += data[len];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Decode or deobfuscate the text</span></span><br><span class="line"><span class="comment">     * @param &#123;string&#125; value            this is the encoded text</span></span><br><span class="line"><span class="comment">     * @param &#123;string|integer&#125; size     this is the size of text to deobfuscate</span></span><br><span class="line"><span class="comment">     * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    decode: <span class="function"><span class="keyword">function</span>(<span class="params">value,size=<span class="number">1</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="string">''</span>;</span><br><span class="line">        size = <span class="built_in">parseInt</span>(size);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>._isString(value)) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Value must be string'</span>);</span><br><span class="line">        <span class="keyword">var</span> data = <span class="keyword">this</span>._remake(value,size), i = <span class="number">0</span>, len = data.length;</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;len;i++) &#123;</span><br><span class="line">            result += data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    <span class="built_in">module</span>.exports = TextObfuscator;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now you have already the source code of your library.</p><h3 id="Create-unit-test-file"><a href="#Create-unit-test-file" class="headerlink" title="Create unit test file"></a>Create unit test file</h3><p>Now create a file name <code>obfuscator.js</code> in <code>test/</code> directory.<br>Just paste with this code.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> assert = <span class="built_in">require</span>(<span class="string">'assert'</span>);</span><br><span class="line"><span class="keyword">const</span> TextObfuscator = <span class="built_in">require</span>(<span class="string">'../src/text-obfuscator'</span>);</span><br><span class="line"></span><br><span class="line">describe(<span class="string">'obfuscator test'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'value must be string'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.throws(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            TextObfuscator.encode([]);</span><br><span class="line">        &#125;,<span class="built_in">Error</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'isString helper'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="string">'abc'</span>),<span class="literal">true</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="number">1</span>),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString([]),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(&#123;&#125;),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="literal">true</span>),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="literal">false</span>),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="literal">null</span>),<span class="literal">false</span>);</span><br><span class="line">        assert.equal(TextObfuscator._isString(<span class="literal">undefined</span>),<span class="literal">false</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'make chunk array'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.deepEqual(TextObfuscator._make(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>,<span class="number">3</span>),</span><br><span class="line">        [ <span class="string">'abc'</span>, <span class="string">'def'</span>, <span class="string">'ghi'</span>, <span class="string">'jkl'</span>, <span class="string">'mno'</span>, <span class="string">'pqr'</span>, <span class="string">'stu'</span>, <span class="string">'vwx'</span>, <span class="string">'yz'</span> ]);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'remake reversed chunk array'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.deepEqual(TextObfuscator._remake(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>,<span class="number">3</span>),</span><br><span class="line">        [ <span class="string">'xyz'</span>, <span class="string">'uvw'</span>, <span class="string">'rst'</span>, <span class="string">'opq'</span>, <span class="string">'lmn'</span>, <span class="string">'ijk'</span>, <span class="string">'fgh'</span>, <span class="string">'cde'</span>, <span class="string">'ab'</span> ]);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'make chunk array like simple reverse'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.deepEqual(TextObfuscator._make(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>),</span><br><span class="line">        [ <span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>, <span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>, <span class="string">'g'</span>,<span class="string">'h'</span>,<span class="string">'i'</span>, <span class="string">'j'</span>,<span class="string">'k'</span>,<span class="string">'l'</span>, <span class="string">'m'</span>,<span class="string">'n'</span>,<span class="string">'o'</span>, <span class="string">'p'</span>,<span class="string">'q'</span>,<span class="string">'r'</span>, <span class="string">'s'</span>,<span class="string">'t'</span>,<span class="string">'u'</span>, <span class="string">'v'</span>,<span class="string">'w'</span>,<span class="string">'x'</span>, <span class="string">'y'</span>,<span class="string">'z'</span> ]);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'remake reversed chunk array like simple reverse'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.deepEqual(TextObfuscator._remake(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>),</span><br><span class="line">        [ <span class="string">'z'</span>,<span class="string">'y'</span>,<span class="string">'x'</span>, <span class="string">'w'</span>,<span class="string">'v'</span>,<span class="string">'u'</span>, <span class="string">'t'</span>,<span class="string">'s'</span>,<span class="string">'r'</span>, <span class="string">'q'</span>,<span class="string">'p'</span>,<span class="string">'o'</span>, <span class="string">'n'</span>,<span class="string">'m'</span>,<span class="string">'l'</span>, <span class="string">'k'</span>,<span class="string">'j'</span>,<span class="string">'i'</span>, <span class="string">'h'</span>,<span class="string">'g'</span>,<span class="string">'f'</span>, <span class="string">'e'</span>,<span class="string">'d'</span>,<span class="string">'c'</span>, <span class="string">'b'</span>,<span class="string">'a'</span> ]);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'obfuscate the text'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.equal(TextObfuscator.encode(<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>,<span class="number">2</span>),<span class="string">'yzwxuvstqropmnklijghefcdab'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'deobfuscate text'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.equal(TextObfuscator.decode(<span class="string">'yzwxuvstqropmnklijghefcdab'</span>,<span class="number">2</span>),<span class="string">'abcdefghijklmnopqrstuvwxyz'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'obfuscate only works with string'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.throws(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            TextObfuscator.encode([<span class="string">'12345'</span>]);</span><br><span class="line">        &#125;,<span class="built_in">Error</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'deobfuscate only works with string'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        assert.throws(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            TextObfuscator.decode([<span class="string">'54321'</span>]);</span><br><span class="line">        &#125;,<span class="built_in">Error</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Now assume that you already have the unit test file.</p><h3 id="Make-run-your-unit-test"><a href="#Make-run-your-unit-test" class="headerlink" title="Make run your unit test"></a>Make run your unit test</h3><p>To run your unit test, just run this command into terminal.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>Now you will get the result like this.<br><img src="https://i.imgur.com/Pb5S1Lu.jpg" alt=""></p><p>You will see that there uncovered line with yellow color, it means that you have test it line but it was still for one condition, there is still another conditions which is are not tested yet. Unfortunately it can not be tested because it must be tested on browser. Ah I forgot to tell you that the <code>text-obfuscator</code> is could be run in NodeJS or Browser. Because on the last line there is condition for <code>window</code> which is it must be tested on browser, so that is why unit test is missed for one line.</p><h3 id="Create-README-md"><a href="#Create-README-md" class="headerlink" title="Create README.md"></a>Create README.md</h3><p>README is the file that you should give the information detail about the project. For this example you can just paste with this below:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># text-obfuscator</span></span><br><span class="line">[<span class="string">![NPM</span>](<span class="link">https://nodei.co/npm/text-obfuscator.png?downloads=true&amp;downloadRank=true&amp;stars=true</span>)](<span class="link">https://nodei.co/npm/text-obfuscator/</span>)  </span><br><span class="line">  </span><br><span class="line">[<span class="string">![npm version</span>](<span class="link">https://img.shields.io/npm/v/text-obfuscator.svg?style=flat-square</span>)](<span class="link">https://www.npmjs.org/package/text-obfuscator</span>)</span><br><span class="line">[<span class="string">![Build Status</span>](<span class="link">https://travis-ci.org/aalfiann/text-obfuscator.svg?branch=master</span>)](<span class="link">https://travis-ci.org/aalfiann/text-obfuscator</span>)</span><br><span class="line">[<span class="string">![Coverage Status</span>](<span class="link">https://coveralls.io/repos/github/aalfiann/text-obfuscator/badge.svg?branch=master</span>)](<span class="link">https://coveralls.io/github/aalfiann/text-obfuscator?branch=master</span>)</span><br><span class="line">[<span class="string">![Known Vulnerabilities</span>](<span class="link">https://snyk.io//test/github/aalfiann/text-obfuscator/badge.svg?targetFile=package.json</span>)](<span class="link">https://snyk.io//test/github/aalfiann/text-obfuscator?targetFile=package.json</span>)</span><br><span class="line">[<span class="string">![dependencies Status</span>](<span class="link">https://david-dm.org/aalfiann/text-obfuscator/status.svg</span>)](<span class="link">https://david-dm.org/aalfiann/text-obfuscator</span>)</span><br><span class="line">![<span class="string">License</span>](<span class="link">https://img.shields.io/npm/l/text-obfuscator</span>)</span><br><span class="line">![<span class="string">NPM download/month</span>](<span class="link">https://img.shields.io/npm/dm/text-obfuscator.svg</span>)</span><br><span class="line">![<span class="string">NPM download total</span>](<span class="link">https://img.shields.io/npm/dt/text-obfuscator.svg</span>)  </span><br><span class="line">Simple Text Obfuscator for NodeJS or Browser.</span><br><span class="line"></span><br><span class="line">Because sometimes we want to obfuscate a text in client browser for <span class="code">`key`</span>, <span class="code">`id`</span>, <span class="code">`base64`</span>, etc.</span><br></pre></td></tr></table></figure><p>Note:</p><ul><li>You can see that you could put the badge into README.md file.</li></ul><h3 id="Push-into-github"><a href="#Push-into-github" class="headerlink" title="Push into github"></a>Push into github</h3><p>After everything is done, now you can go push your source code into Github by this command.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"first commit"</span></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h3 id="Trigger-Build-in-Travis"><a href="#Trigger-Build-in-Travis" class="headerlink" title="Trigger Build in Travis"></a>Trigger Build in Travis</h3><p>After your source code is successfully uploaded into github, now go visit to <a href="https://travis-ci.com/account/repositories" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">Travis-Settings</a>. Then click on your repository name, then on the top-right there is button name <code>More options</code> just click on it. Then the dropdown will apearing and there is <code>Trigger build</code> menu, so just click on it.</p><p>Now the build test will be running for a minute, just wait for it. Once it done, you can go for the next step below.</p><h3 id="Publish-into-NPM-Package"><a href="#Publish-into-NPM-Package" class="headerlink" title="Publish into NPM Package"></a>Publish into NPM Package</h3><p>When build is passed, you can just publish it into NPM Package by this command.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm login</span><br><span class="line">$ npm publish</span><br></pre></td></tr></table></figure><p>Yeah that is done, now your package you can view it on <code>https://www.npmjs.com/package/text-obfuscator</code>.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Sorry there is no much image for the step, because trust me the register for an account is very simple even for a newbie.</p><p>Also the study case is a real library which was created for professional use. Actually I was use this <code>text-obfuscator</code> library for many important projects.</p><p>For more detail you can check the source code is available on <a href="https://github.com/aalfiann/text-obfuscator" target="_blank" target="_blank" target="_blank" rel="noopener external nofollow noopener noreferrer">https://github.com/aalfiann/text-obfuscator</a>.</p><p>Hope you are able to create your own library and publish it on your NPM Package. Feel free to ask if you are have problem or miss understanding about this tutorial.</p><p>Thank You.</p></div></article></div><div id="safelinker2"></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">Search</label></div><div class="search-result" id="search_result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a class="prev" href="/post/pros-and-cons-of-totaljs-framework/" title="Pros and Cons of TotalJS Framework">PREV</a><a class="next" href="/post/introduction-about-jsonql-in-nodejs/" title="Introduction About JsonQL in NodeJS">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=window.location.href,this.page.identifier=window.location.href};!function(){var e=document,t=e.createElement("script");t.src="https://hexoder.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div class="copyright"><p>Â© 2019 <a href="/" target="_blank">Hexoder</a> | <a href="/disclaimer">Disclaimer</a> | <a href="/privacy-policy">Privacy</a> | <a href="/atom.xml">Feed</a> | <a href="/sitemap.xml">Sitemap</a></p></div><div class="totop"><i></i></div></div></footer><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/jquery-1.8.2.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/ar-anchor.min.js"></script><script src="//cdn.jsdelivr.net/gh/aalfiann/hexoder@gh-pages/scripts/main.js"></script><script src="//cdn.jsdelivr.net/npm/safelink-jquery@1.1.0/src/safelink.min.js"></script><script>$("#safelinker1").Safelink({encoded:link,timer:!0,firstButtonText:"Click Here First >>",secondButtonText:"Continue to Get Link >>"}).build("#safelinker2","btn-safelink btn-hoverable")</script><script>!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga||(e.ga=function(){(e.ga.q=e.ga.q||[]).push(arguments)}),e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-151912342-1","auto"),ga("send","pageview")</script></body></html>