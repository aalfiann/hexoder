!function(t){t(".scroll-con, window").scroll(function(){t(".scroll-con").scrollTop()+t("window").scrollTop()>=300?t(".totop").fadeIn("slow"):t(".totop").fadeOut("slow")}),t(window).scroll(function(){t(window).scrollTop()+t(".scroll-con").scrollTop()>=300?t(".totop").fadeIn("slow"):t(".totop").fadeOut("slow")}),t(".totop").on("click",function(){t("html,body").animate({scrollTop:0},200),t(".scroll-con").animate({scrollTop:0},200)}),arAnchor(),t("#nav_btn").on("click",function(e){e.preventDefault(),t("#nav_list").slideToggle(300)}),t("#search_btn").on("click",function(e){e.preventDefault(),t("body").addClass("search-on"),t(".input-field").addClass("active"),t("#search_input").focus()}),t("#search_input").blur(function(){""===t("#search_input").val()&&t(".input-field").removeClass("active")}),t(".blog-overlay").on("click",function(){t("#search_input").val(""),t("body").removeClass("search-on").removeClass("right-on")});var e="search.xml";0==e.length&&(e="search.xml"),function(e,n,o){"use strict";t.ajax({url:e,dataType:"xml",success:function(e){var l=t("entry",e).map(function(){return{title:t("title",this).text(),content:t("content",this).text(),url:t("url",this).text()}}).get(),r=document.getElementById(n),c=document.getElementById(o);r.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);c.innerHTML="",this.value.trim().length<=0||(l.forEach(function(n){var o=!0,l=n.title.trim().toLowerCase(),r=n.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),c=n.url,a=-1,s=-1,i=-1;if(""!=l&&""!=r&&e.forEach(function(t,e){a=l.indexOf(t),s=r.indexOf(t),a<0&&s<0?o=!1:(s<0&&(s=0),0==e&&(i=s))}),o){e.forEach(function(t){var e=new RegExp(t,"gi");l=l.replace(e,'<span class="search-keyword green lighten-2">'+t+"</span>")}),t+="<li><a href='"+c+"' class='search-result-title'>"+l+"</a>";var u=n.content.trim().replace(/<[^>]+>/g,"");if(i>=0){var p=i-20,f=i+80;p<0&&(p=0),0==p&&(f=100),f>u.length&&(f=u.length);var h=u.substring(p,f);e.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<span class="search-keyword green lighten-2">'+t+"</span>")}),t+="<p>..."+h+"...</p>"}t+="</li>"}}),t+="</ul>",c.innerHTML=t)})}})}("/"+e,"search_input","search_result")}(jQuery);